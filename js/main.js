document.addEventListener("DOMContentLoaded",function(){var obj=getObj();var cnt=addCount(cnt);var snd=getObjVal("sound");var moji=new Moji(getObjVal("kana_type"),obj["text"],cnt);obj["text"].style.color=getColorData(getObjVal("color_type"));moji.reset();obj["start"].addEventListener("click",function(){moji.disp();ring(snd)});obj["back"].addEventListener("click",function(){moji.back();ring(snd)});obj["random"].addEventListener("click",function(){moji.randomDisp();ring(snd)});obj["reset"].addEventListener("click",function(){moji.reset();ring(snd)});obj["kana_type"].addEventListener("change",function(){moji.setType();moji.disp()});obj["color_type"].addEventListener("change",function(){var color=getObjVal("color_type");obj["text"].style.color=getColorData(color)});obj["sound"].addEventListener("change",function(){snd=getObjVal("sound")})});class Moji{constructor(mojidata,txtarea,count){this.moji=getMojiData(mojidata);this.txtarea=txtarea;this.count=count;this.length=this.moji.length}disp(){this.count=addCount(this.count);this.count=countCheck(this.count,this.length);this.txtarea.innerHTML="<span id='char'>"+this.moji[this.count]+"</span>"}back(){this.count=addCount(this.count,-1);this.count=countCheck(this.count,this.length);this.txtarea.innerHTML="<span id='char'>"+this.moji[this.count]+"</span>"}randomDisp(){this.count=Math.floor(Math.random()*this.length);var txt=this.moji[this.count];this.txtarea.innerHTML="<span id='char'>"+txt+"</span>"}setType(){this.type=getObjVal("kana_type");this.moji=getMojiData(this.type);this.length=this.moji.length;this.reset()}reset(){this.txtarea.innerHTML="<span class='obj' id='stt'>start</span>";this.count=-1}}function addCount(count,num){if(num===null||num===undefined){num=1}if(count!=undefined){return count+num}return-1}function countCheck(count,length){if(count>length-1){return 0}if(count<0){return length-1}return count}function ring(sound){var sf=document.getElementById("soundfile");if(typeof(sf.currentTime)!=="undefined"){sf.currentTime=0}if(sound==="on"){sf.play()}}function getObj(){var obj=document.getElementsByClassName("obj");var obj_name=[];var length=obj.length;for(var i=0;i<length;i++){obj_name[obj[i].id]=obj[i]}return obj_name}function getObjVal(obj){var o=document.getElementById(obj);return o.value}function getMojiData(val){moji_ar=[];ar=moji_ar;ar.hira="あ0い0う0え0お0か0き0く0け0こ0さ0し0す0せ0そ0た0ち0つ0て0と0な0に0ぬ0ね0の0は0ひ0ふ0へ0ほ0ま0み0む0め0も0や0ゆ0よ0ら0り0る0れ0ろ0わ0を0ん".split(0);ar.d_hira="が0ぎ0ぐ0げ0ご0ざ0じ0ず0ぜ0ぞ0だ0ぢ0づ0で0ど0ば0び0ぶ0べ0ぼ0ぱ0ぴ0ぷ0ぺ0ぽ".split(0);ar.kata="ア0イ0ウ0エ0オ0カ0キ0ク0ケ0コ0サ0シ0ス0セ0ソ0タ0チ0ツ0テ0ト0ナ0ニ0ヌ0ネ0ノ0ハ0ヒ0フ0ヘ0ホ0マ0ミ0ム0メ0モ0ヤ0ユ0ヨ0ラ0リ0ル0レ0ロ0ワ0ヲ0ン".split(0);ar.d_kata="ガ0ギ0グ0ゲ0ゴ0ザ0ジ0ズ0ゼ0ゾ0ダ0ヂ0ヅ0デ0ド0バ0ビ0ブ0ベ0ボ0パ0ピ0プ0ペ0ポ".split(0);ar.l_abc="A0B0C0D0E0F0G0H0I0J0K0L0M0N0O0P0Q0R0S0T0U0V0W0X0Y0Z".split(0);ar.s_abc="a0b0c0d0e0f0g0h0i0j0k0l0m0n0o0p0q0r0s0t0u0v0w0x0y0z".split(0);ar.number="１0２0３0４0５0６0７0８0９".split(0);return ar[val]}function getColorData(val){color_ar=[];c=color_ar;c.red="#dd2c39";c.blue="#0a6dbf";c.ltblue="#4ab0d8";c.yellow="#fcd200";c.green="#59aa9b";c.gray="#a9a9a9";c.orange="#f99f00";c.pink="#e06c96";return c[val]}